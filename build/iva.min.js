!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("d3")):"function"==typeof define&&define.amd?define("iva",["d3"],t):"object"==typeof exports?exports.iva=t(require("d3")):e.iva=t(e.d3)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=new b.Default,t=new u["default"]({},e),n=new l["default"]({},e),r=new c["default"](t,n,e);return r}function o(){var e=new b.Instant,t=new u["default"]({},e),n=new l["default"]({},e),r=new c["default"](t,n,e);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.INTERPOLATE=t.Buffer=t.Chart=t.OptionObject=t.DataObject=void 0,t.generateBasicChart=i,t.generateInstantChart=o;var a=n(1),u=r(a),s=n(4),l=r(s),f=n(12),c=r(f),d=n(21),h=r(d),y=n(22),p=r(y),v=n(28),b={Default:h["default"],Instant:p["default"]};t.DataObject=u["default"],t.OptionObject=l["default"],t.Chart=c["default"],t.Buffer=b,t.INTERPOLATE=v.INTERPOLATE},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var f=n(2),c=r(f),d=n(3),h=function(e){function t(e,n){o(this,t);var r=a(this,Object.getPrototypeOf(t).call(this,e,n)),i=r.__;i.table=new Map;return e=(0,d.option)(e,{}),e.columns=(0,d.option)(e.columns,[]),e.rows=(0,d.option)(e.rows,[]),r.columns(e.columns),r.addRows(e.rows),r}return u(t,e),l(t,[{key:"clear",value:function(){return this.__.table.clear(),this.dirty(!0),this}},{key:"columns",value:function(e){var t=this.__;return void 0===e?t.table:(this.clear(),this.addColumns(e),this)}},{key:"column",value:function(e,t){var n=this.__;return void 0===t?n.table.get(e):(this.emptyColumn(e),this.setValuesToColumn(e,t),this)}},{key:"addColumns",value:function(e){var t=this;this.__;if(!Array.isArray(e))throw new TypeError("Columns should be array and not "+("undefined"==typeof e?"undefined":i(e)));return e.forEach(function(e){t.addColumn(e.id,e.values)}),this}},{key:"addColumn",value:function(e,t){var n=this.__.table;if((0,d.throwIfNotString)(e,"Column id"),(0,d.throwIfNotArray)(t,"Column values"),void 0!==this.column(e))throw new Error("Columns can't have equals ids but "+e+" is presented twice");var r=new Map;return n.set(e,r),this.setValuesToColumn(e,t),this.column(e)}},{key:"columnValue",value:function(e,t,n){if(void 0===n)return this.column(e).get(t);var r=this.column(e);return void 0===r&&(r=this.addEmptyColumn(e)),r.set(t,this.__value(n)),this.dirty(!0),this}},{key:"setValuesToColumn",value:function(e,t){(0,d.throwIfNotString)(e,"Column id"),(0,d.throwIfNotArray)(t,"Column values");var n=this.column(e);(0,d.throwIfUndefined)(n,"Can't set values to undefined column");for(var r=0;r<t.length;r++){var i=t[r];(0,d.isUndefined)(i.x)?n.set(r,this.__value(i)):n.set(i.x,this.__value(i))}return this.dirty(!0),this}},{key:"addEmptyColumn",value:function(e){return this.addColumn(e,[])}},{key:"emptyColumn",value:function(e){(0,d.throwIfNotString)(e,"Column id");var t=this.column(e);return t?t.clear():this.addEmptyColumn(e),this.dirty(),this}},{key:"removeColumn",value:function(e){return this.__.table["delete"](e),this.dirty(!0),this}},{key:"rows",value:function(e){return void 0===e?this.toRows():((0,d.throwIfNotArray)(e,"Rows"),this.clear(),this.addRows(e),this)}},{key:"addRows",value:function(e){var t=this;return(0,d.throwIfNotArray)(e,"Rows"),e.forEach(function(e){t.row(e.x,e.values)}),this}},{key:"row",value:function(e,t){return(0,d.throwIfUndefined)(e,"Row x"),this.emptyRow(e),this.addValuesToRow(e,t),this}},{key:"addValuesToRow",value:function(e,t){var n=this;return(0,d.throwIfUndefined)(e,"Row x"),(0,d.throwIfNotArray)(t,"Row values"),t.forEach(function(t){n.columnValue(t.id,e,t)}),this}},{key:"emptyRow",value:function(e){var t=this.__.table,n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=s(o.value,2),l=(u[0],u[1]);l.has(e)&&l["delete"](e)}}catch(f){r=!0,i=f}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return this.dirty(!0),this}},{key:"toRows",value:function(){var e=this.__.table,t=new Map,n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=s(o.value,2),l=u[0],f=u[1],c=!0,d=!1,h=void 0;try{for(var y,p=f[Symbol.iterator]();!(c=(y=p.next()).done);c=!0){var v=s(y.value,2),b=v[0],w=v[1];t.has(b)?t.get(b).set(l,w):t.set(b,new Map([[l,w]]))}}catch(g){d=!0,h=g}finally{try{!c&&p["return"]&&p["return"]()}finally{if(d)throw h}}}}catch(g){r=!0,i=g}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return t}},{key:"copy",value:function(){}},{key:"isEmpty",value:function(){return 0===this.__.table.size}},{key:"__getNextX",value:function(e){var t=this.column(e),n=-1,r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=s(a.value,2),f=l[0],c=(l[1],(0,d.isUndefined)(t.x)?f:t.x);c>n&&(n=c)}}catch(h){i=!0,o=h}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return(0,d.toInt)(n)+1}},{key:"__value",value:function(e){if((0,d.isObject)(e)){var t={};return(0,d.isUndefined)(e.y)||(t.y=e.y),(0,d.isUndefined)(e.x)||(t.x=e.x),(0,d.isUndefined)(e.label)||(t.label=e.label),(0,d.isUndefined)(e.color)||(t.color=e.color),t}return(0,d.isNumeric)(e)?{y:e}:void 0}}]),t}(c["default"]);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),u=function(){function e(t,n){if(i(this,e),void 0===n)throw new Error("Where are your parents "+(0,a.toString)(t)+"?!");this.__init(t,n)}return o(e,[{key:"__init",value:function(e,t){var n=this;this.__={dirty:!0,parent:t};e=(0,a.option)(e,{}),e.fields&&e.fields.forEach(function(e){n.setField(e.query,e.value)})}},{key:"dirty",value:function(e){var t=this.__;return void 0===e?t.dirty:(t.dirty=e,e===!0&&t.parent.dirty(!0),this)}},{key:"field",value:function(e,t){return void 0===t?this.getField(e):this.setField(e,t)}},{key:"getField",value:function(e,t){var n=this.__;if("string"!=typeof e)throw new TypeError("Query should be string and not "+("undefined"==typeof e?"undefined":r(e)));if(void 0!==n.fields){void 0===t&&(t=n.fields);var i=e.split(".");return 1===i.length?t[e]:this.getField(i.slice(1).join("."),t[i[0]])}}},{key:"setField",value:function(e,t,n){var i=this.__;if("string"!=typeof e)throw new TypeError("Query should be string and not "+("undefined"==typeof e?"undefined":r(e)));if(void 0===i.fields&&(i.fields={}),void 0===n&&(n=i.fields),"object"!==("undefined"==typeof n?"undefined":r(n)))throw new TypeError("Can't set value to non-object field "+n);var o=e.split(".");return 1===o.length?n[e]=t:(void 0===n[o[0]]&&(n[o[0]]={}),void this.setField(o.slice(1).join("."),t,n[o[0]]))}},{key:"setDefault",value:function(){this.options(this.getDefault())}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e,t){return void 0===e?t:e}function i(e){return Array.isArray(e)?a(e):"object"===("undefined"==typeof e?"undefined":n(e))?o(e):"string"==typeof e?u(e):e}function o(e){var t={};for(var n in e){var r=e[n];t[n]=i(r)}return t}function a(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(i(r))}return t}function u(e){return e.slice(0)}function s(e){return!Array.isArray(e)&&e-parseFloat(e)+1>=0}function l(e){return"object"===("undefined"==typeof e?"undefined":n(e))}function f(e){return Array.isArray(e)}function c(e){return"string"==typeof e}function d(e){return"function"==typeof e}function h(e){return void 0===e}function y(e){return void 0!==e}function p(e){return"object"===("undefined"==typeof e?"undefined":n(e))?b(e):e}function v(e){return parseInt(e)}function b(e){return JSON.stringify(e,null,8)}function w(e,t){if(t=r(t,e),h(e))throw new TypeError(t+" shouldn't be undefined")}function g(e,t){if(t=r(t,e),!s(e))throw new TypeError(t+" should be number and not "+("undefined"==typeof e?"undefined":n(e)))}function m(e,t){if(t=r(t,e),!f(e))throw new TypeError(t+" should be array and not "+("undefined"==typeof e?"undefined":n(e)))}function _(e,t){if(t=r(t,e),!l(e))throw new TypeError(t+" should be object and not "+("undefined"==typeof e?"undefined":n(e)))}function O(e,t){if(t=r(t,e),!c(e))throw new TypeError(t+" shoud be string and not "+("undefined"==typeof e?"undefined":n(e)))}function x(e,t){if(t=r(t,e),!d(e))throw new TypeError(t+" should be function and not "+("undefined"==typeof e?"undefined":n(e)))}function j(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function k(e){return h(e)||0===e.length}function P(e){console.debug(p(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.option=r,t.copy=i,t.copyObject=o,t.copyArray=a,t.copyString=u,t.isNumeric=s,t.isObject=l,t.isArray=f,t.isString=c,t.isFunction=d,t.isUndefined=h,t.isDefined=y,t.toString=p,t.toInt=v,t.objToString=b,t.throwIfUndefined=w,t.throwIfNotNumeric=g,t.throwIfNotArray=m,t.throwIfNotObject=_,t.throwIfNotString=O,t.throwIfNotFunction=x,t.merge=j,t.isEmpty=k,t.debug=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),f=n(5),c=r(f),d=n(6),h=r(d),y=n(7),p=r(y),v=n(8),b=r(v),w=n(9),g=r(w),m=n(10),_=r(m),O=n(3),x=n(11),j=r(x),k=function(e){function t(e,n){i(this,t),e=(0,O.option)(e,{});var r=o(this,Object.getPrototypeOf(t).call(this,e,n));r.size=new c["default"](e.size,r),r.handler=e.handler,r.axes=new h["default"](e.axes,r),r.legend=new p["default"](e.legend,r),r.area=new b["default"](e.area,r),r.line=new g["default"](e.line,r),r.pie=new _["default"](e.pie,r),r.setDefault(),r.options(e);var a=(0,O.option)(e.presets,[]);return r.setPresets(a),r.applyPresets(),r}return a(t,e),u(t,[{key:"__init",value:function(e,t){this.__={parent:t,dirty:!0,mode:"normal"}}},{key:"options",value:function(e){return(0,O.isUndefined)(e)?{mode:this.mode(),easel:this.easel()}:(this.mode(e.mode),this.easel(e.easel),this)}},{key:"easel",value:function(e){var t=this.__;return(0,O.isUndefined)(e)?t.easel:(t.easel=e,this.dirty(!0),this)}},{key:"mode",value:function(e){var t=this.__;return(0,O.isUndefined)(e)?t.mode:(t.mode=e,this.dirty(!0),this)}},{key:"copy",value:function(){return new t(this)}},{key:"setPresets",value:function(e){var t=this;return(0,O.throwIfNotArray)(e,"Presets"),this.presets=[],e.forEach(function(e){(0,O.isFunction)(e)?t.presets.push(e):t.presets.push(j["default"][e])}),this}},{key:"applyPresets",value:function(){var e=this;this.presets.forEach(function(t){t(e)})}},{key:"setDefault",value:function(){this.options(this.getDefault())}},{key:"getDefault",value:function(){return{easel:"#chart",mode:"normal"}}}]),t}(l["default"]);t["default"]=k,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),f=n(3),c=function(e){function t(e,n){i(this,t),e=(0,f.option)(e,{});var r=o(this,Object.getPrototypeOf(t).call(this,e,n));return r.setDefault(),r.sizes(e),r}return a(t,e),u(t,[{key:"__init",value:function(e,t){this.__={parent:t}}},{key:"sizes",value:function(e){this.__;return void 0===e?{width:this.width(),height:this.height()}:(this.width(e.width),void this.height(e.height))}},{key:"width",value:function(e){var t=this.__;return void 0===e?t.width:(t.width=e,void this.dirty(!0))}},{key:"height",value:function(e){var t=this.__;return void 0===e?t.height:(t.height=e,void this.dirty(!0))}},{key:"setDefault",value:function(){this.sizes(this.getDefault())}},{key:"getDefault",value:function(){return{width:800,height:600}}}]),t}(l["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),f=n(3),c=function(e){function t(e,n){i(this,t),e=(0,f.option)(e,{});var r=o(this,Object.getPrototypeOf(t).call(this,e,n)),a=(0,f.option)(e.x,{}),u=(0,f.option)(e.y,{}),s=(0,f.option)(e.both,{});return r.x=new y((0,f.merge)(s,a),r),r.y=new p((0,f.merge)(s,u),r),r.both=new h(r),r}return a(t,e),t}(l["default"]);t["default"]=c;var d=function(e){function t(e,n){i(this,t),e=(0,f.option)(e,{});var r=o(this,Object.getPrototypeOf(t).call(this,e,n));return r.setDefault(),r.options(e),r}return a(t,e),u(t,[{key:"options",value:function(e){this.visible(e.visible)}},{key:"visible",value:function(e){var t=this.__;return(0,f.isUndefined)(e)?t.visible:(t.visible=e,void this.dirty(!0))}},{key:"show",value:function(){this.visible(!0)}},{key:"hide",value:function(){this.visible(!1)}},{key:"setDefault",value:function(){this.options(this.getDefault())}},{key:"getDefault",value:function(){return{visible:!1}}}]),t}(l["default"]),h=function(){function e(t){i(this,e),this.__={proxy:t}}return u(e,[{key:"show",value:function(){var e=this.__.proxy;e.x.show(),e.y.show()}},{key:"hide",value:function(){var e=this.__.proxy;e.x.hide(),e.y.hide()}}]),e}(),y=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(d),p=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(d);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),f=n(3),c=function(e){function t(e,n){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e,n));return r.setDefault(),r.options(e),r}return a(t,e),u(t,[{key:"options",value:function(e){return(0,f.isUndefined)(e)?{visible:this.visible(),width:this.width(),height:this.height()}:(this.visible(e.visible),this.width(e.width),void this.height(e.height))}},{key:"visible",value:function(e){var t=this.__;return(0,f.isUndefined)(e)?t.visible:(t.visible=e,this.dirty(!0),this)}},{key:"width",value:function(e){var t=this.__;return(0,f.isUndefined)(e)?t.width:(t.width=e,this.dirty(!0),this)}},{key:"height",value:function(e){var t=this.__;return(0,f.isUndefined)(e)?t.height:(t.height=e,this.dirty(!0),this)}},{key:"getDefault",value:function(){return{visible:!1,height:40,width:120}}}]),t}(l["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),f=n(3),c=function(e){function t(e,n){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e,n));return r.setDefault(),r.options(e),r}return a(t,e),u(t,[{key:"options",value:function(e){return(0,f.isUndefined)(e)?{points:this.points(),interpolate:this.interpolate()}:void this.points(e.points)}},{key:"points",value:function(e){var t=this.__;return(0,f.isUndefined)(e)?t.points:(t.points=e,this.dirty(!0),this)}},{key:"interpolate",value:function(e){var t=this.__;return(0,f.isUndefined)(e)?t.interpolate:(t.interpolate=e,this.dirty(!0),this)}},{key:"getDefault",value:function(){return{points:!1,interpolate:"linear"}}}]),t}(l["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),f=n(3),c=function(e){function t(e,n){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e,n));return r.setDefault(),r.options(e),r}return a(t,e),u(t,[{key:"options",value:function(e){return(0,f.isUndefined)(e)?{points:this.points(),interpolate:this.interpolate()}:void this.points(e.points)}},{key:"points",value:function(e){var t=this.__;return(0,f.isUndefined)(e)?t.points:(t.points=e,this.dirty(!0),this)}},{key:"interpolate",value:function(e){var t=this.__;return(0,f.isUndefined)(e)?t.interpolate:(t.interpolate=e,this.dirty(!0),this)}},{key:"getDefault",value:function(){return{points:!1,interpolate:"linear"}}}]),t}(l["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),f=n(3),c=function(e){function t(e,n){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e,n));return r.setDefault(),r.options(e),r}return a(t,e),u(t,[{key:"options",value:function(e){return(0,f.isUndefined)(e)?{innerRadius:this.innerRadius(),outerRadius:this.outerRadius(),explodeRadius:this.explodeRadius(),padAngle:this.padAngle(),turnAngle:this.turnAngle()}:(this.innerRadius(e.innerRadius),this.outerRadius(e.outerRadius),this.explodeRadius(e.explodeRadius),this.padAngle(e.padAngle),void this.turnAngle(e.turnAngle))}},{key:"innerRadius",value:function(e){var t=this.__;return(0,f.isUndefined)(e)?t.innerRadius:(t.innerRadius=e,void this.dirty(!0))}},{key:"outerRadius",value:function(e){var t=this.__;return(0,f.isUndefined)(e)?t.outerRadius:(t.outerRadius=e,void this.dirty(!0))}},{key:"explodeRadius",value:function(e){var t=this.__;return(0,f.isUndefined)(e)?t.explodeRadius:(t.explodeRadius=e,void this.dirty(!0))}},{key:"padAngle",value:function(e){var t=this.__;return(0,f.isUndefined)(e)?t.padAngle:(t.padAngle=e,void this.dirty(!0))}},{key:"turnAngle",value:function(e){var t=this.__;return(0,f.isUndefined)(e)?t.turnAngle:(t.turnAngle=e,void this.dirty(!0))}},{key:"setDefault",value:function(){return this.options(this.getDefault())}},{key:"getDefault",value:function(){return{innerRadius:0,outerRadius:150,explodeRadius:0,padAngle:0,turnAngle:0}}}]),t}(l["default"]);t["default"]=c,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={donut:function(e){var t=e.pie;t.innerRadius(60),t.padAngle(.03)}};t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(3),s=n(13),l=r(s),f=n(17),c=r(f),d=n(18),h=r(d),y=n(19),p=r(y),v=n(21),b=r(v),w=n(22),g=r(w),m=n(23),_=r(m),O=n(4),x=r(O),j=n(1),k=r(j),P=function(){function e(t,n,r){o(this,e),this.setBuffer(r),this.initDataObject(t),this.initOptionObject(n),this.setHandler(this.option.handler),this.setRenderer(this.option.renderer),this.endInit()}return a(e,[{key:"redraw",value:function(){var e=this.handler.computeRenderObject(this.data,this.option);this.renderer.redraw(e)}},{key:"initDataObject",value:function(e){this.data=(0,u.option)(e,new k["default"]({},this.buffer))}},{key:"initOptionObject",value:function(e){this.option=(0,u.option)(e,new x["default"]({},this.buffer))}},{key:"setHandler",value:function(e){e=(0,u.option)(e,"line"),"function"==typeof e?this.handler=new e(this):"object"===("undefined"==typeof e?"undefined":i(e))?this.handler=e:this.setHandlerByName(e),this.renderer&&this.redraw()}},{key:"setHandlerByName",value:function(e){if("bar"===e)this.handler=new l["default"](this);else if("line"===e)this.handler=new c["default"](this);else if("area"===e)this.handler=new h["default"](this);else{if("pie"!==e)throw new Error("Uknown type of handler: "+hanlder);this.handler=new p["default"](this)}}},{key:"setRenderer",value:function(e){e=(0,u.option)(e,"default"),"function"==typeof e?this.renderer=new e(this):"object"===("undefined"==typeof e?"undefined":i(e))?this.renderer=e:this.setRendererByName(e)}},{key:"setRendererByName",value:function(e){if("default"!==e)throw new Error("Uknown type of renderer: "+e);this.renderer=new _["default"](this)}},{key:"setBuffer",value:function(e){(0,u.isDefined)(this.buffer)&&this.buffer.unregisterChart(this),e=(0,u.option)(e,"default"),"function"==typeof e?this.buffer=new e(this):"object"===("undefined"==typeof e?"undefined":i(e))?this.buffer=e:this.setBufferByName(e),this.buffer.registerChart(this),this.buffer.frozen(!0)}},{key:"setBufferByName",value:function(e){if("default"===e)this.buffer=new b["default"](this);else{if("instant"!==e)throw new Error("Uknown type of buffer: "+e);this.buffer=new g["default"](this)}}},{key:"endInit",value:function(){this.buffer.frozen(!1),this.buffer.dirty(!0)}}]),e}();t["default"]=P,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function y(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:y(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)};Object.defineProperty(t,"__esModule",{value:!0});var f=n(14),c=r(f),d=n(3),h=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).call(this))}return a(t,e),s(t,[{key:"init",value:function(){}},{key:"computeRenderObject",value:function(e,n){l(Object.getPrototypeOf(t.prototype),"computeRenderObject",this).call(this,e,n);var r=this.d();return r.clearRectangularData({bars:!1}),r.data.rectangular.bars=this.processBars(e.columns()),"stacked"===n.mode()?r.data.rectangular.bars=this.stack(r.data.rectangular.bars):"normalized"===n.mode()&&(r.data.rectangular.bars=this.normalize(r.data.rectangular.bars)),r.data.ids=this.ids(r.data.rectangular.bars),r.data.ranges=this.computeRanges(r.data.rectangular.bars),r.data.rectangular.bars=this.setY0(r.data.rectangular.bars,0),r.data.rectangular.bars=this.turnToRows(r.data.rectangular.bars),r}},{key:"processBars",value:function(e){var t={dirty:!0,values:[]},n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=u(o.value,2),l=s[0],f=s[1];t.values.push(this.processBar(f,l))}}catch(c){r=!0,i=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return t}},{key:"processBar",value:function(e,t){var n={dirty:!0,values:[],id:t},r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=u(a.value,2),f=l[0],c=l[1];n.values.push(this.processValue(c,f,t))}}catch(d){i=!0,o=d}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}},{key:"processValue",value:function(e,n,r){var i=l(Object.getPrototypeOf(t.prototype),"processValue",this).call(this,e,n);return(0,d.isDefined)(e.y0)&&(i.y0=e.y0),(0,d.isDefined)(r)&&(i.id=r),i}}]),t}(c["default"]);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function h(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:h(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)};Object.defineProperty(t,"__esModule",{value:!0});var l=n(15),f=r(l),c=n(3),d=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"computeRenderObject",value:function(e,n){s(Object.getPrototypeOf(t.prototype),"computeRenderObject",this).call(this,e,n);var r=this.d();r.option.axes=this.processAxis(n.axes)}},{key:"processAxis",value:function(e){var t={x:{dirty:!0},y:{dirty:!0},dirty:!0};return t.x.visible=e.x.visible(),t.y.visible=e.y.visible(),t}},{key:"processValue",value:function(e,t){var n={};return(0,c.isDefined)(t)&&(n.x=t),(0,c.isDefined)(e.y)&&(n.y=e.y),(0,c.isDefined)(e.color)&&(n.color=e.color),(0,c.isDefined)(e.label)&&(n.label=e.label),n}},{key:"setY0",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=e.values[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,s=!0,l=!1,f=void 0;try{for(var d,h=u.values[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var y=d.value;(0,c.isUndefined)(y.y0)&&(y.y0=t)}}catch(p){l=!0,f=p}finally{try{!s&&h["return"]&&h["return"]()}finally{if(l)throw f}}}}catch(p){r=!0,i=p}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return e}}]),t}(f["default"]);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),u=r(a),s=n(3),l=function(){function e(){i(this,e),this.__={d:new u["default"]},this.init()}return o(e,[{key:"init",value:function(){}},{key:"d",value:function(){return this.__.d}},{key:"computeRenderObject",value:function(e,t){var n=this.d();n.option.size=this.processSize(t.size),n.option.easel=t.easel(),n.option.legend=t.legend.options()}},{key:"processSize",value:function(e){return{dirty:!0,width:e.width(),height:e.height()}}},{key:"computeRanges",value:function(e){var t=void 0,n=void 0,r=void 0,i=void 0,o=[];if(e.values.forEach(function(e){e.values.forEach(function(e){((0,s.isUndefined)(t)||e.x<t)&&(t=e.x),((0,s.isUndefined)(n)||e.x>n)&&(n=e.x),((0,s.isUndefined)(r)||e.y<r)&&(r=e.y),(0,s.isDefined)(e.y0)&&e.y0<r&&(r=e.y0),((0,s.isUndefined)(i)||e.y>i)&&(i=e.y)})}),this.hasStringXIn(e)){var a=!0,u=!1,l=void 0;try{for(var f,c=e.values[Symbol.iterator]();!(a=(f=c.next()).done);a=!0){var d=f.value,h=!0,y=!1,p=void 0;try{for(var v,b=d.values[Symbol.iterator]();!(h=(v=b.next()).done);h=!0){var w=v.value;o.push(""+w.x)}}catch(g){y=!0,p=g}finally{try{!h&&b["return"]&&b["return"]()}finally{if(y)throw p}}}}catch(g){u=!0,l=g}finally{try{!a&&c["return"]&&c["return"]()}finally{if(u)throw l}}}return{xMin:t,xMax:n,yMin:r,yMax:i,xStrings:o}}},{key:"stack",value:function(e){for(var t=new Map,n=0;n<e.values.length;n++)for(var r=0;r<e.values[n].values.length;r++){var i=e.values[n].values[r];t.has(i.x)||t.set(i.x,0);var o=t.get(i.x);i.y0=o,i.y+=o,t.set(i.x,i.y)}return e}},{key:"normalize",value:function(e){var t=new Map,n=new Map,r=!0,i=!1,o=void 0;try{for(var a,u=e.values[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,l=!0,f=!1,c=void 0;try{for(var d,h=s.values[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var y=d.value;if(y.y<0)throw new Error("Y can't be below zero in the normalized chart");t.has(y.x)?(t.set(y.x,t.get(y.x)+y.y),n.set(y.x,n.get(y.x)+1)):(t.set(y.x,y.y),n.set(y.x,1))}}catch(p){f=!0,c=p}finally{try{!l&&h["return"]&&h["return"]()}finally{if(f)throw c}}}}catch(p){i=!0,o=p}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}var v=!0,b=!1,w=void 0;try{for(var g,m=e.values[Symbol.iterator]();!(v=(g=m.next()).done);v=!0){var s=g.value,_=!0,O=!1,x=void 0;try{for(var j,k=s.values[Symbol.iterator]();!(_=(j=k.next()).done);_=!0){var y=j.value,P=t.get(y.x);0===P?y.y=1/n.get(y.x):y.y/=t.get(y.x)}}catch(p){O=!0,x=p}finally{try{!_&&k["return"]&&k["return"]()}finally{if(O)throw x}}}}catch(p){b=!0,w=p}finally{try{!v&&m["return"]&&m["return"]()}finally{if(b)throw w}}return this.stack(e)}},{key:"hasStringXIn",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e.values[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,u=!0,l=!1,f=void 0;try{for(var c,d=a.values[Symbol.iterator]();!(u=(c=d.next()).done);u=!0){var h=c.value;if((0,s.isString)(h.x))return!0}}catch(y){l=!0,f=y}finally{try{!u&&d["return"]&&d["return"]()}finally{if(l)throw f}}}}catch(y){n=!0,r=y}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}return!1}},{key:"ids",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e.values[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;t.push(u.id)}}catch(s){r=!0,i=s}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return t}},{key:"turnToRows",value:function(e){function t(e){var t=!0,r=!1,i=void 0;try{for(var o,a=n.values[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;if(u.x===e)return u}}catch(s){r=!0,i=s}finally{try{!t&&a["return"]&&a["return"]()}finally{if(r)throw i}}}var n={values:[]},r=!0,i=!1,o=void 0;try{for(var a,u=e.values[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value,f=!0,c=!1,d=void 0;try{for(var h,y=l.values[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var p=h.value,v=t(p.x);(0,s.isUndefined)(v)&&(n.values.push({x:p.x,values:[]}),v=n.values[n.values.length-1]),v.values.push({id:l.id,y:p.y,y0:p.y0})}}catch(b){c=!0,d=b}finally{try{!f&&y["return"]&&y["return"]()}finally{if(c)throw d}}}}catch(b){i=!0,o=b}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}}]),e}();t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=function(){function e(){r(this,e),this.data={rectangular:{},circular:{}},this.option={},this.clear()}return i(e,[{key:"clear",value:function(){return this.clearData(),this.clearOption(),this}},{key:"clearData",value:function(){return this.clearRectangularData(),this.clearCircularData(),this}},{key:"clearOption",value:function(){return this.option=this.getDefaultOption(),this}},{key:"clearRectangularData",value:function(e){var t=this;e=(0,o.option)(e,{});var n=["areas","bars","lines"];return n.forEach(function(n){(0,o.isUndefined)(e[n])&&(t.data.rectangular[n]=t.getDefaultStore())}),this}},{key:"clearCircularData",value:function(e){var t=this;e=(0,o.option)(e,{});var n=["pies","disks"];return n.forEach(function(n){(0,o.isUndefined)(e[n])&&(t.data.circular[n]=t.getDefaultStore())}),this}},{key:"getDefaultOption",value:function(){return{bindTo:"",size:{},axes:{x:{},y:{}}}}},{key:"getDefaultStore",value:function(){return{dirty:!0,values:[]}}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function h(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:h(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)};Object.defineProperty(t,"__esModule",{value:!0});var f=n(14),c=r(f),d=(n(3),function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).call(this))}return a(t,e),s(t,[{key:"init",value:function(){this.d()}},{key:"computeRenderObject",value:function(e,n){var r=this.d();return l(Object.getPrototypeOf(t.prototype),"computeRenderObject",this).call(this,e,n),r.clearRectangularData({lines:!1}),r.data.rectangular.lines=this.processLines(e.columns()),"stacked"===n.mode()?r.data.rectangular.lines=this.stack(r.data.rectangular.lines):"normalized"===n.mode()&&(r.data.rectangular.lines=this.normalize(r.data.rectangular.lines)),r.data.ids=this.ids(r.data.rectangular.lines),r.data.ranges=this.computeRanges(r.data.rectangular.lines),r.option.line=n.line.options(),r}},{key:"processLines",value:function(e){var t={dirty:!0,values:[]},n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=u(o.value,2),l=s[0],f=s[1];t.values.push(this.processLine(f,l))}}catch(c){r=!0,i=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return t}},{key:"processLine",value:function(e,t){var n={dirty:!0,values:[],id:t},r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=u(a.value,2),f=l[0],c=l[1];n.values.push(this.processValue(c,f))}}catch(d){i=!0,o=d}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}}]),t}(c["default"]));t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function y(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:y(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)};Object.defineProperty(t,"__esModule",{value:!0});var f=n(3),c=n(14),d=r(c),h=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"init",value:function(){this.d()}},{key:"computeRenderObject",value:function(e,n){var r=this.d();return l(Object.getPrototypeOf(t.prototype),"computeRenderObject",this).call(this,e,n),r.clearRectangularData({areas:!1}),r.data.rectangular.areas=this.processAreas(e.columns()),"stacked"===n.mode()?r.data.rectangular.areas=this.stack(r.data.rectangular.areas):"normalized"===n.mode()&&(r.data.rectangular.areas=this.normalize(r.data.rectangular.areas)),r.data.ids=this.ids(r.data.rectangular.areas),r.data.ranges=this.computeRanges(r.data.rectangular.areas),r.data.rectangular.areas=this.setY0(r.data.rectangular.areas,r.data.ranges.yMin),r.option.area=n.area.options(),r}},{key:"processAreas",value:function(e){var t={dirty:!0,values:[]},n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=u(o.value,2),l=s[0],f=s[1];t.values.push(this.processArea(f,l))}}catch(c){r=!0,i=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return t}},{key:"processArea",value:function(e,t){var n={dirty:!0,values:[],id:t},r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=u(a.value,2),f=l[0],c=l[1];n.values.push(this.processValue(c,f))}}catch(d){i=!0,o=d}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}},{key:"processValue",value:function(e,n){var r=l(Object.getPrototypeOf(t.prototype),"processValue",this).call(this,e,n);return(0,f.isDefined)(e.y0)&&(r.y0=e.y0),r}}]),t}(d["default"]);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function y(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:y(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)};Object.defineProperty(t,"__esModule",{value:!0});var f=n(20),c=r(f),d=n(3),h=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"computeRenderObject",value:function(e,n){var r=this.d();return l(Object.getPrototypeOf(t.prototype),"computeRenderObject",this).call(this,e,n),r.data.circular.pies=this.processPies(e.columns()),r.data.ids=this.ids(r.data.circular.pies),r.option.pie=n.pie.options(),r}},{key:"processPies",value:function(e){var t={dirty:!0,values:[]},n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=u(o.value,2),l=s[0],f=s[1];t.values.push(this.processPie(f,l))}}catch(c){r=!0,i=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return t}},{key:"processPie",value:function(e,t){var n={dirty:!0,values:[],name:t},r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=u(a.value,2),f=l[0],c=l[1];n.values.push(this.processValue(c,f))}}catch(d){i=!0,o=d}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}},{key:"processValue",value:function(e,t){var n={};return(0,d.isDefined)(t)&&(n.id=t),(0,d.isDefined)(e.y)&&(n.y=e.y),n}}]),t}(c["default"]);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(15),l=r(s),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"init",value:function(){}}]),t}(l["default"]);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=function(){function e(t){r(this,e),this.__init(),this.registerChart(t)}return i(e,[{key:"__init",value:function(){this.__={dirty:!1,frozen:!1,charts:[]}}},{key:"dirty",value:function(e){var t=this.__;return void 0===e?t.dirty:(t.dirty=e,void(this.frozen()||this.actOnDirty(e)))}},{key:"registerChart",value:function(e){if((0,o.isDefined)(e)){var t=this.__.charts;-1===t.indexOf(e)&&t.push(e)}}},{key:"unregisterChart",value:function(e){for(var t=this.__.charts,n=0;n<t.length;n++)e===t[n]&&t.splice(n,1)}},{key:"sendRedraw",value:function(){this.__.charts.forEach(function(e){e.redraw()})}},{key:"frozen",value:function(e){var t=this.__;return void 0===e?t.frozen:void(t.frozen=e)}},{key:"actOnDirty",value:function(e){}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(21),l=r(s),f=function(e){function t(e){return i(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),u(t,[{key:"actOnDirty",value:function(e){this.__;e&&this.sendRedraw()}}]),t}(l["default"]);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(24),l=r(s),f=n(25),c=r(f),d=n(26),h=n(3),y=n(27),p=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this));return n.option=e.option,n.initEasel(),n.initScene(),n.initLines(),n.initAreas(),n.initBars(),n.initPies(),n.initAxes(),n.initPoints(),n.initLegend(),n.color=l["default"].scale.ordinal().range(["#98abc5","#a05d56","#7b6888","#6b486b","#8a89a6","#d0743c","#ff8c00"]),n}return a(t,e),u(t,[{key:"redraw",value:function(e){this.render=e,this.data=this.render.data,this.option=this.render.option,this.setSizes(),this.setDomainsToScales(),this.redrawBars(),this.redrawLines(),this.redrawAreas(),this.redrawPies(),this.redrawAxes(),this.redrawLegend(),this.endRender()}},{key:"initEasel",value:function(){this.easel=l["default"].selectAll(this.option.easel()).attr("class","iva-chart"),this.clear()}},{key:"initScene",value:function(){this.scene=this.easel.append("g").attr("class","scene")}},{key:"initLines",value:function(){this.scene.append("g").attr("class","lines")}},{key:"initAreas",value:function(){this.scene.append("g").attr("class","areas")}},{key:"initBars",value:function(){this.scene.append("g").attr("class","bars")}},{key:"initPies",value:function(){this.scene.append("g").attr("class","pies")}},{key:"initAxes",value:function(){var e=this.easel;this.xAxis=l["default"].svg.axis().orient("bottom"),this.yAxis=l["default"].svg.axis().orient("left");e.append("g").attr("class","axis xAxis"),e.append("g").attr("class","axis yAxis")}},{key:"initLegend",value:function(){this.legend=this.easel.append("g").attr("class","legend")}},{key:"initPoints",value:function(){this.scene.append("g").attr("class","points")}},{key:"setSizes",value:function(){var e=(this.easel,this.option),t=e.size,n=this.innerSize={width:t.width-d.PADDING.LEFT-d.PADDING.RIGHT,height:t.height-d.PADDING.TOP-d.PADDING.BOTTOM};this.easel.attr("width",t.width).attr("height",t.height);var r=e.legend,i=r.visible?r.width:0;this.scene.attr("transform","translate("+(d.PADDING.LEFT+d.AXIS.WIDTH)+", "+d.PADDING.TOP+")"),this.scene.attr("width",n.width-d.AXIS.WIDTH-i).attr("height",n.height-d.AXIS.WIDTH),this.legend.attr("width",r.width).attr("height",r.height).attr("visibility",(0,y.visibility)(r.visible)).attr("transform","translate("+(n.width+d.PADDING.LEFT-r.width+20)+", "+(t.height/2-r.height/2)+")"),this.legendScale=l["default"].scale.ordinal().rangePoints([0,r.height]);this.xScale=l["default"].scale.ordinal().rangePoints([0,this.scene.attr("width")]),this.yScale=l["default"].scale.linear().range([this.scene.attr("height"),0])}},{key:"setDomainsToScales",value:function(){var e=this.data.ranges,t=e.xMin,n=e.xMax,r=e.yMin,i=e.yMax,o=e.xStrings,a=this.xScale,u=this.yScale,s=this.color;(0,h.isEmpty)(o)?a.domain(l["default"].range(t,n+1)):a.domain(o),u.domain([r,i]),s.domain(this.data.ids)}},{key:"redrawAxes",value:function(){var e=this.easel,t=this.option.size,n=this.option.axes,r=this.xAxis,i=this.yAxis;r.scale(this.xScale),i.scale(this.yScale),e.select(".xAxis").attr("transform","translate("+(d.AXIS.WIDTH+d.PADDING.LEFT)+", "+(t.height-d.AXIS.WIDTH)+")").style("opacity",function(e){return n.x.visible?100:0}).call(r),e.select(".yAxis").attr("transform","translate("+d.AXIS.WIDTH+", "+d.PADDING.TOP+")").style("opacity",function(e){return n.y.visible?100:0}).call(i)}},{key:"redrawBars",value:function(){var e=this.scene,t=this.color,n=this.yScale,r=this.xScale;if((0,h.isEmpty)(this.data.rectangular.bars.values))return void this.clear(".bars");var i=new Map,o=this.data.rectangular.bars.values,a=!0,u=!1,s=void 0;try{for(var f,c=o[Symbol.iterator]();!(a=(f=c.next()).done);a=!0){var d=f.value,y=!0,p=!1,v=void 0;try{for(var b,w=d.values[Symbol.iterator]();!(y=(b=w.next()).done);y=!0){var g=b.value,m=g.x;i.has(m)?i.set(m,i.get(m)+1):i.set(m,1)}}catch(_){p=!0,v=_}finally{try{!y&&w["return"]&&w["return"]()}finally{if(p)throw v}}}}catch(_){u=!0,s=_}finally{try{!a&&c["return"]&&c["return"]()}finally{if(u)throw s}}var O=l["default"].scale.ordinal(),x=this.data.ranges,j=x.xMin,k=x.xMax,P=x.yMin,E=x.yMax,S=x.xStrings,A=this.scene.attr("height");(0,h.isEmpty)(S)?r.domain(l["default"].range(j,k+1)).rangeRoundBands([0,this.scene.attr("width")],.1):r.domain(S),n.domain([P,E]),O.domain(this.data.ids).rangeRoundBands([0,r.rangeBand()],.1);var R=e.select(".bars"),D=R.selectAll(".bar").data(o);D.enter().append("g").attr("class","bar"),D.attr("transform",function(e){return"translate("+r(e.x)+", 0)"});var T=D.selectAll("rect").data(function(e){return e.values});T.enter().append("rect"),T.attr("x",function(e){return O(e.id)}).attr("y",function(e){return n(e.y)}).attr("height",function(e){return A-n(e.y-e.y0)}).attr("width",O.rangeBand()).style("fill",function(e){return t(e.id)}),T.exit().remove(),D.exit().remove()}},{key:"redrawLines",value:function(){var e=this.scene,t=this.color,n=this.xScale,r=this.yScale;if((0,h.isEmpty)(this.data.rectangular.lines.values))return void this.clear(".lines");var i=this.data.rectangular.lines.values,o=l["default"].svg.line().x(function(e){return n(e.x)}).y(function(e){return r(e.y)}).interpolate(this.option.line.interpolate),a=e.select(".lines"),u=a.selectAll("path").data(i);u.enter().append("path").attr("class","line").attr("stroke",function(e){return t(e.id)}).attr("stroke-width",2).attr("fill","none"),u.attr("d",function(e){return o(e.values)}),u.exit().remove(),this.option.line.points&&this.redrawPoints(i)}},{key:"redrawAreas",value:function(){var e=this.scene,t=this.color,n=this.xScale,r=this.yScale;if((0,h.isEmpty)(this.data.rectangular.areas.values))return void this.clear(".areas");var i=this.data.rectangular.areas.values,o=l["default"].svg.area().x(function(e){return n(e.x)}).y0(function(e){return r(e.y0)+d.PADDING.TOP-10}).y1(function(e){return r(e.y)}).interpolate(this.option.area.interpolate),a=e.select(".areas"),u=a.selectAll("path").data(i);u.enter().append("path").attr("class","area").attr("class","area").attr("stroke",function(e){return t(e.id)}).attr("fill",function(e){return t(e.id)}),u.attr("d",function(e){return o(e.values)}),u.exit().remove(),this.option.area.points&&this.redrawPoints(i)}},{key:"redrawPies",value:function(){var e=this.scene,t=this.color,n=this.option;if(!(0,h.isEmpty)(this.data.circular.pies.values)){var r=this.data.circular.pies.values,i=r[0].values,o=l["default"].svg.arc().outerRadius(n.pie.outerRadius).innerRadius(n.pie.innerRadius).startAngle(function(e){return e.startAngle+n.pie.turnAngle}).endAngle(function(e){return e.endAngle+n.pie.turnAngle}).padAngle(n.pie.padAngle),a=l["default"].layout.pie().sort(null).value(function(e){return e.y});e.selectAll(".pies").attr("transform","translate("+this.option.size.width/2+", "+this.option.size.height/2+")");var u=e.selectAll(".pies").selectAll(".arc").data(a(i));u.enter().append("path").attr("class","arc").style("fill",function(e){return t(e.data.id)}),u.attr("d",o),u.attr("transform",(0,y.generateExplode)(n.pie.explodeRadius)),u.exit().remove()}}},{key:"redrawLegend",value:function(){var e=this.data.ids;if((0,h.isEmpty)(e))return void this.clear(".legend");if(this.option.legend.visible){var t=this.legend,n=this.legendScale,r=this.color;n.domain(e);var i=t.selectAll(".legendItem").data(e);i.enter().append("text").attr("class","legendItem"),i.attr("transform",function(e){return"translate(20, "+n(e)+")"}),i.text(function(e){return e});var o=t.selectAll(".legendPicture").data(e);"line"===this.option.legend.pointType?o.enter().append("line").attr("class","legendPicture").attr("x1",0).attr("y1",5).attr("x2",10).attr("y2",5).attr("stroke",function(e){return r(e)}).style("stroke-width",2):o.enter().append("rect").attr("class","legendPicture").attr("width",10).attr("height",10).attr("fill",function(e){return r(e)}),o.attr("transform",function(e){return"translate(0, "+(n(e)-10)+")"}),i.exit().remove(),o.exit().remove()}}},{key:"redrawPoints",value:function(e){var t=this;if((0,h.isEmpty)(e))return void this.clear(".points");var n=this.scene,r=(this.option,this.xScale),i=this.yScale,o=[];e.forEach(function(e){e.values.forEach(function(t){o.push({x:t.x,y:t.y,id:e.id})})});var a=n.selectAll(".points").selectAll(".point").data(o);a.enter().append("circle").attr("class","point").attr("fill",function(e){return t.color(e.id)}).attr("r",3),a.attr("cx",function(e){return r(e.x)}),a.attr("cy",function(e){return i(e.y)}),a.exit().remove()}},{key:"clear",value:function(e){var t=void 0;t=(0,h.isUndefined)(e)?this.easel:this.easel.selectAll(e),t.selectAll("*").transition().duration(500).style("opacity",0).remove()}},{key:"endRender",value:function(){var e=this.data;e.isEmpty&&this.clear(".points")}}]),t}(c["default"]);t["default"]=p,e.exports=t["default"]},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),a=r(o),u=function s(){i(this,s),this.render=new a["default"]};t["default"]=u,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PADDING={LEFT:10,RIGHT:10,TOP:10,BOTTOM:10},t.AXIS={WIDTH:30}},function(e,t){"use strict";function n(e){return e?"visible":"hidden"}function r(e){return function(t,n){var r=(t.startAngle+t.endAngle)/2,i=Math.sin(r)*e,o=-Math.cos(r)*e;return"translate("+i+","+o+")"}}Object.defineProperty(t,"__esModule",{value:!0}),t.visibility=n,t.generateExplode=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={get LINEAR(){return"linear"},get CARDINAL(){return"cardinal"},get MONOTONE(){return"monotone"}};t.INTERPOLATE=n}])});
//# sourceMappingURL=iva.min.js.map